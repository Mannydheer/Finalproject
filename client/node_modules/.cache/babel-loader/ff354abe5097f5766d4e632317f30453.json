{"ast":null,"code":"var _jsxFileName = \"/Users/maniderdheer/Documents/GitHub/finalproject/client/src/components/UserHostedEvents/UserHostedEvents.js\";\nimport React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { selectPark, requestHosts, retrieveHosts, retrieveHostsError } from '../actions/parkActions';\nimport EventDetails from '../EventDetails';\n\nconst UserHostedEvents = () => {\n  const userInfo = useSelector(state => state.userReducer);\n  const [events, setEvents] = useState(null);\n  const [error, setError] = useState(false);\n  console.log(userInfo._id);\n  useEffect(() => {\n    const handleUserEvents = async () => {\n      let token = localStorage.getItem('accesstoken');\n\n      try {\n        let response = await fetch(`/userEvents/${userInfo._id}`, {\n          method: \"GET\",\n          headers: {\n            'Content-Type': 'application/json',\n            Accept: 'application/json',\n            'Authorization': `${token}`\n          }\n        });\n\n        if (response.status === 200) {\n          let userEvents = await response.json();\n          setEvents(userEvents.events);\n        } else {\n          setError(true);\n        }\n      } catch (err) {\n        console.log(err, 'error occured inside catch for handler user events.');\n        setError(true);\n      }\n    };\n\n    handleUserEvents();\n  }, []);\n  return /*#__PURE__*/React.createElement(Wrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, events !== null && events.map(event => {\n    return /*#__PURE__*/React.createElement(EventDetails, {\n      event: event,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 21\n      }\n    });\n  }), error && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 23\n    }\n  }, \"Error occured on the page.\"));\n};\n\nexport default UserHostedEvents;\nconst Wrapper = styled.div`\ndisplay: flex;\njustify-content: space-between;\n\n\n`;","map":{"version":3,"sources":["/Users/maniderdheer/Documents/GitHub/finalproject/client/src/components/UserHostedEvents/UserHostedEvents.js"],"names":["React","useState","useEffect","styled","useDispatch","useSelector","selectPark","requestHosts","retrieveHosts","retrieveHostsError","EventDetails","UserHostedEvents","userInfo","state","userReducer","events","setEvents","error","setError","console","log","_id","handleUserEvents","token","localStorage","getItem","response","fetch","method","headers","Accept","status","userEvents","json","err","map","event","Wrapper","div"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,UAAT,EAAqBC,YAArB,EAAmCC,aAAnC,EAAkDC,kBAAlD,QAA4E,wBAA5E;AACA,OAAOC,YAAP,MAAyB,iBAAzB;;AAGA,MAAMC,gBAAgB,GAAG,MAAM;AAE3B,QAAMC,QAAQ,GAAGP,WAAW,CAACQ,KAAK,IAAIA,KAAK,CAACC,WAAhB,CAA5B;AAEA,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBf,QAAQ,CAAC,IAAD,CAApC;AACA,QAAM,CAACgB,KAAD,EAAQC,QAAR,IAAoBjB,QAAQ,CAAC,KAAD,CAAlC;AAEAkB,EAAAA,OAAO,CAACC,GAAR,CAAYR,QAAQ,CAACS,GAArB;AAEAnB,EAAAA,SAAS,CAAC,MAAM;AAEZ,UAAMoB,gBAAgB,GAAG,YAAY;AAGjC,UAAIC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAZ;;AACA,UAAI;AACA,YAAIC,QAAQ,GAAG,MAAMC,KAAK,CAAE,eAAcf,QAAQ,CAACS,GAAI,EAA7B,EAAgC;AACtDO,UAAAA,MAAM,EAAE,KAD8C;AAEtDC,UAAAA,OAAO,EAAE;AACL,4BAAgB,kBADX;AAELC,YAAAA,MAAM,EAAE,kBAFH;AAGL,6BAAkB,GAAEP,KAAM;AAHrB;AAF6C,SAAhC,CAA1B;;AAQA,YAAIG,QAAQ,CAACK,MAAT,KAAoB,GAAxB,EAA6B;AACzB,cAAIC,UAAU,GAAG,MAAMN,QAAQ,CAACO,IAAT,EAAvB;AACAjB,UAAAA,SAAS,CAACgB,UAAU,CAACjB,MAAZ,CAAT;AACH,SAHD,MAIK;AACDG,UAAAA,QAAQ,CAAC,IAAD,CAAR;AACH;AAEJ,OAjBD,CAkBA,OAAOgB,GAAP,EAAY;AACRf,QAAAA,OAAO,CAACC,GAAR,CAAYc,GAAZ,EAAiB,qDAAjB;AACAhB,QAAAA,QAAQ,CAAC,IAAD,CAAR;AACH;AAGJ,KA5BD;;AA8BAI,IAAAA,gBAAgB;AAEnB,GAlCQ,EAkCN,EAlCM,CAAT;AAoCA,sBACI,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEKP,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAACoB,GAAP,CAAWC,KAAK,IAAI;AACpC,wBACI,oBAAC,YAAD;AAAc,MAAA,KAAK,EAAEA,KAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ;AAGH,GAJmB,CAFxB,EASKnB,KAAK,iBAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCATd,CADJ;AAkBH,CA/DD;;AAiEA,eAAeN,gBAAf;AAGA,MAAM0B,OAAO,GAAGlC,MAAM,CAACmC,GAAI;;;;;CAA3B","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport styled from 'styled-components';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { selectPark, requestHosts, retrieveHosts, retrieveHostsError } from '../actions/parkActions';\nimport EventDetails from '../EventDetails';\n\n\nconst UserHostedEvents = () => {\n\n    const userInfo = useSelector(state => state.userReducer)\n\n    const [events, setEvents] = useState(null)\n    const [error, setError] = useState(false)\n\n    console.log(userInfo._id)\n\n    useEffect(() => {\n\n        const handleUserEvents = async () => {\n\n\n            let token = localStorage.getItem('accesstoken')\n            try {\n                let response = await fetch(`/userEvents/${userInfo._id}`, {\n                    method: \"GET\",\n                    headers: {\n                        'Content-Type': 'application/json',\n                        Accept: 'application/json',\n                        'Authorization': `${token}`\n                    }\n                })\n                if (response.status === 200) {\n                    let userEvents = await response.json();\n                    setEvents(userEvents.events)\n                }\n                else {\n                    setError(true)\n                }\n\n            }\n            catch (err) {\n                console.log(err, 'error occured inside catch for handler user events.')\n                setError(true)\n            }\n\n\n        }\n\n        handleUserEvents();\n\n    }, [])\n\n    return (\n        <Wrapper>\n\n            {events !== null && events.map(event => {\n                return (\n                    <EventDetails event={event}></EventDetails>\n                )\n            })}\n\n\n            {error && <div>Error occured on the page.</div>}\n\n\n\n        </Wrapper>\n    )\n\n\n}\n\nexport default UserHostedEvents;\n\n\nconst Wrapper = styled.div`\ndisplay: flex;\njustify-content: space-between;\n\n\n`\n"]},"metadata":{},"sourceType":"module"}