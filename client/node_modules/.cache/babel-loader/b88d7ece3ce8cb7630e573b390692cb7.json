{"ast":null,"code":"var _jsxFileName = \"/Users/maniderdheer/Documents/GitHub/finalproject/client/src/components/App.js/App.js\";\nimport React, { useEffect } from 'react';\nimport { BrowserRouter as Router, Route, Switch, Redirect } from 'react-router-dom';\nimport Navbar from '../Navbar';\nimport GlobalStyles from '../GlobalStyles';\nimport Home from '../Home';\nimport Sports from '../Sports';\nimport { fetchUserProfile } from '../helpers/helpers';\nimport { loginSuccess, loginError, loginRequest } from '../actions/userActions';\nimport { useDispatch, useSelector } from 'react-redux';\n\nfunction App() {\n  const dispatch = useDispatch();\n  useEffect(() => {\n    const handleTokenUser = async () => {\n      dispatch(loginRequest());\n\n      try {\n        let response = await fetchUserProfile();\n\n        if (response.status === 200) {\n          let userResponse = await response.json();\n          let name = userResponse.username.split('@')[0];\n          dispatch(loginSuccess({\n            name: name,\n            token: userResponse.accessToken\n          }));\n        } else {\n          dispatch(loginError());\n        }\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    handleTokenUser();\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(GlobalStyles, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Router, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Navbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Home, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/sports\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Sports, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  })))));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/maniderdheer/Documents/GitHub/finalproject/client/src/components/App.js/App.js"],"names":["React","useEffect","BrowserRouter","Router","Route","Switch","Redirect","Navbar","GlobalStyles","Home","Sports","fetchUserProfile","loginSuccess","loginError","loginRequest","useDispatch","useSelector","App","dispatch","handleTokenUser","response","status","userResponse","json","name","username","split","token","accessToken","err","console","log"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,aAAa,IAAIC,MAA1B,EAAkCC,KAAlC,EAAyCC,MAAzC,EAAiDC,QAAjD,QAAiE,kBAAjE;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAOC,YAAP,MAAyB,iBAAzB;AACA,OAAOC,IAAP,MAAiB,SAAjB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,SAASC,gBAAT,QAAiC,oBAAjC;AACA,SAASC,YAAT,EAAuBC,UAAvB,EAAmCC,YAAnC,QAAuD,wBAAvD;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;;AAKA,SAASC,GAAT,GAAe;AAEb,QAAMC,QAAQ,GAAGH,WAAW,EAA5B;AAMAd,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMkB,eAAe,GAAG,YAAY;AAElCD,MAAAA,QAAQ,CAACJ,YAAY,EAAb,CAAR;;AACA,UAAI;AACF,YAAIM,QAAQ,GAAG,MAAMT,gBAAgB,EAArC;;AACA,YAAIS,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AAC3B,cAAIC,YAAY,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAzB;AACA,cAAIC,IAAI,GAAGF,YAAY,CAACG,QAAb,CAAsBC,KAAtB,CAA4B,GAA5B,EAAiC,CAAjC,CAAX;AACAR,UAAAA,QAAQ,CAACN,YAAY,CAAC;AAAEY,YAAAA,IAAI,EAAEA,IAAR;AAAcG,YAAAA,KAAK,EAAEL,YAAY,CAACM;AAAlC,WAAD,CAAb,CAAR;AACD,SAJD,MAKK;AACHV,UAAAA,QAAQ,CAACL,UAAU,EAAX,CAAR;AACD;AAEF,OAXD,CAWE,OAAOgB,GAAP,EAAY;AACZC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AAED;AAEF,KAnBD;;AAoBAV,IAAAA,eAAe;AAChB,GAtBQ,CAAT;AA2BA,sBACE,uDACE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAIE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAGE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD;AAAO,IAAA,KAAK,MAAZ;AAAa,IAAA,IAAI,EAAC,GAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,eAIE,oBAAC,KAAD;AAAO,IAAA,KAAK,MAAZ;AAAa,IAAA,IAAI,EAAC,SAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAJF,CAHF,CAJF,CADF;AAqBD;;AAED,eAAeF,GAAf","sourcesContent":["import React, { useEffect } from 'react';\nimport { BrowserRouter as Router, Route, Switch, Redirect } from 'react-router-dom';\nimport Navbar from '../Navbar';\nimport GlobalStyles from '../GlobalStyles';\nimport Home from '../Home';\nimport Sports from '../Sports';\nimport { fetchUserProfile } from '../helpers/helpers'\nimport { loginSuccess, loginError, loginRequest } from '../actions/userActions';\nimport { useDispatch, useSelector } from 'react-redux';\n\n\n\n\nfunction App() {\n\n  const dispatch = useDispatch();\n\n\n\n\n\n  useEffect(() => {\n    const handleTokenUser = async () => {\n\n      dispatch(loginRequest())\n      try {\n        let response = await fetchUserProfile();\n        if (response.status === 200) {\n          let userResponse = await response.json()\n          let name = userResponse.username.split('@')[0]\n          dispatch(loginSuccess({ name: name, token: userResponse.accessToken }))\n        }\n        else {\n          dispatch(loginError())\n        }\n\n      } catch (err) {\n        console.log(err)\n\n      }\n\n    }\n    handleTokenUser()\n  })\n\n\n\n\n  return (\n    <>\n      <GlobalStyles></GlobalStyles>\n\n\n      <Router>\n        <Navbar></Navbar>\n\n        <Switch>\n          <Route exact path='/'>\n            <Home></Home>\n          </Route>\n          <Route exact path='/sports'>\n            <Sports></Sports>\n          </Route>\n        </Switch>\n      </Router>\n    </>\n\n\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}