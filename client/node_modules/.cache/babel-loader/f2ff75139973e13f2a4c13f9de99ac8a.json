{"ast":null,"code":"var _jsxFileName = \"/Users/maniderdheer/Documents/GitHub/finalproject/client/src/components/ViewActivity/ViewActivity.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport styled from 'styled-components';\nimport EventDetails from '../EventDetails'; //components.\n\nimport ParkDetails from '../ParkDetails';\n\nconst ViewActivity = () => {\n  const dispatch = useDispatch(); //stores all nearby parks in store.\n\n  const allParks = useSelector(state => state.parkReducer); //all hosted parks in sotre. \n\n  const hostsInfo = useSelector(state => state.hostReducer); //all events in sotre. \n\n  const allEvents = useSelector(state => state.eventReducer);\n  const userInfo = useSelector(state => state.userReducer);\n  const [parkInfo, setParkInfo] = useState(null);\n  const [hostedEvent, setHostedEvents] = useState(null); //error\n\n  const [error, setError] = useState(false); //on component mount.\n\n  useEffect(() => {\n    //get the selected park. \n    setParkInfo(allParks.selectedPark); //find all hosts that are in this park.\n    //for the parkId, get all hosts who match this id.\n    //see if selectedPark has something inside.\n\n    if (allParks.selectedPark !== null) {\n      let matchedEvents = allEvents.events[allParks.selectedPark.id];\n      console.log(matchedEvents, 'MATCHEDEVENTS');\n      setHostedEvents(matchedEvents);\n    } else {\n      setError(true);\n    }\n  }, []); // useEffect(() => {\n  //     //check if the user logged in is hosting any of his own games.\n  //     //cannot join his own games.\n  //     if (hostsInfo.hosts !== null) {\n  //         let matchedUser = hostsInfo.hosts.find(host => {\n  //             if (host.userId === userInfo._id) {\n  //                 return host;\n  //             }\n  //         })\n  //     }\n  //     else {\n  //         setError(true)\n  //     }\n  // }, [])\n\n  console.log(hostedEvent);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, !error ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 23\n    }\n  }, parkInfo !== null && /*#__PURE__*/React.createElement(ParkDetails, {\n    parkInfo: parkInfo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 39\n    }\n  }), hostedEvent !== null && hostedEvent.map(event => {\n    return /*#__PURE__*/React.createElement(EventDetails, {\n      event: event,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 32\n      }\n    });\n  })) : /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      textAlign: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 22\n    }\n  }, \"Please head over to the sports tab to view park acitivities.\"));\n};\n\nexport default ViewActivity;\nconst Wrapper = styled.div`\n\n`; //NOTES:\n//For now, can only view activities from searching a park as the useEffect that gets\n//all hosts happens in that component(MAP componenet.)","map":{"version":3,"sources":["/Users/maniderdheer/Documents/GitHub/finalproject/client/src/components/ViewActivity/ViewActivity.js"],"names":["React","useState","useEffect","useDispatch","useSelector","styled","EventDetails","ParkDetails","ViewActivity","dispatch","allParks","state","parkReducer","hostsInfo","hostReducer","allEvents","eventReducer","userInfo","userReducer","parkInfo","setParkInfo","hostedEvent","setHostedEvents","error","setError","selectedPark","matchedEvents","events","id","console","log","map","event","textAlign","Wrapper","div"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,YAAP,MAAyB,iBAAzB,C,CAEA;;AACA,OAAOC,WAAP,MAAwB,gBAAxB;;AAIA,MAAMC,YAAY,GAAG,MAAM;AAIvB,QAAMC,QAAQ,GAAGN,WAAW,EAA5B,CAJuB,CAKvB;;AACA,QAAMO,QAAQ,GAAGN,WAAW,CAACO,KAAK,IAAIA,KAAK,CAACC,WAAhB,CAA5B,CANuB,CAOvB;;AACA,QAAMC,SAAS,GAAGT,WAAW,CAACO,KAAK,IAAIA,KAAK,CAACG,WAAhB,CAA7B,CARuB,CASvB;;AACA,QAAMC,SAAS,GAAGX,WAAW,CAACO,KAAK,IAAIA,KAAK,CAACK,YAAhB,CAA7B;AAEA,QAAMC,QAAQ,GAAGb,WAAW,CAACO,KAAK,IAAIA,KAAK,CAACO,WAAhB,CAA5B;AAGA,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BnB,QAAQ,CAAC,IAAD,CAAxC;AACA,QAAM,CAACoB,WAAD,EAAcC,eAAd,IAAiCrB,QAAQ,CAAC,IAAD,CAA/C,CAhBuB,CAiBvB;;AACA,QAAM,CAACsB,KAAD,EAAQC,QAAR,IAAoBvB,QAAQ,CAAC,KAAD,CAAlC,CAlBuB,CAoBvB;;AACAC,EAAAA,SAAS,CAAC,MAAM;AACZ;AACAkB,IAAAA,WAAW,CAACV,QAAQ,CAACe,YAAV,CAAX,CAFY,CAGZ;AACA;AACA;;AACA,QAAIf,QAAQ,CAACe,YAAT,KAA0B,IAA9B,EAAoC;AAChC,UAAIC,aAAa,GAAGX,SAAS,CAACY,MAAV,CAAiBjB,QAAQ,CAACe,YAAT,CAAsBG,EAAvC,CAApB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYJ,aAAZ,EAA2B,eAA3B;AACAJ,MAAAA,eAAe,CAACI,aAAD,CAAf;AACH,KAJD,MAKK;AACDF,MAAAA,QAAQ,CAAC,IAAD,CAAR;AACH;AACJ,GAdQ,EAcN,EAdM,CAAT,CArBuB,CAqCvB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;;AAEAK,EAAAA,OAAO,CAACC,GAAR,CAAYT,WAAZ;AAMA,sBACI,0CACK,CAACE,KAAD,gBAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACLJ,QAAQ,KAAK,IAAb,iBAAqB,oBAAC,WAAD;AAAa,IAAA,QAAQ,EAAEA,QAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADhB,EAGLE,WAAW,KAAK,IAAhB,IACGA,WAAW,CAACU,GAAZ,CAAgBC,KAAK,IAAI;AACrB,wBAAO,oBAAC,YAAD;AAAc,MAAA,KAAK,EAAEA,KAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACH,GAFD,CAJE,CAAT,gBAQQ;AAAK,IAAA,KAAK,EAAE;AAAEC,MAAAA,SAAS,EAAE;AAAb,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oEATb,CADJ;AAcH,CA5ED;;AA8EA,eAAezB,YAAf;AAEA,MAAM0B,OAAO,GAAG7B,MAAM,CAAC8B,GAAI;;CAA3B,C,CAKA;AACI;AACA","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport styled from 'styled-components';\nimport EventDetails from '../EventDetails';\n\n//components.\nimport ParkDetails from '../ParkDetails'\n\n\n\nconst ViewActivity = () => {\n\n\n\n    const dispatch = useDispatch();\n    //stores all nearby parks in store.\n    const allParks = useSelector(state => state.parkReducer)\n    //all hosted parks in sotre. \n    const hostsInfo = useSelector(state => state.hostReducer)\n    //all events in sotre. \n    const allEvents = useSelector(state => state.eventReducer)\n\n    const userInfo = useSelector(state => state.userReducer)\n\n\n    const [parkInfo, setParkInfo] = useState(null)\n    const [hostedEvent, setHostedEvents] = useState(null)\n    //error\n    const [error, setError] = useState(false)\n\n    //on component mount.\n    useEffect(() => {\n        //get the selected park. \n        setParkInfo(allParks.selectedPark);\n        //find all hosts that are in this park.\n        //for the parkId, get all hosts who match this id.\n        //see if selectedPark has something inside.\n        if (allParks.selectedPark !== null) {\n            let matchedEvents = allEvents.events[allParks.selectedPark.id]\n            console.log(matchedEvents, 'MATCHEDEVENTS')\n            setHostedEvents(matchedEvents)\n        }\n        else {\n            setError(true)\n        }\n    }, [])\n\n    // useEffect(() => {\n\n    //     //check if the user logged in is hosting any of his own games.\n    //     //cannot join his own games.\n    //     if (hostsInfo.hosts !== null) {\n    //         let matchedUser = hostsInfo.hosts.find(host => {\n    //             if (host.userId === userInfo._id) {\n    //                 return host;\n    //             }\n    //         })\n    //     }\n    //     else {\n    //         setError(true)\n    //     }\n\n\n\n    // }, [])\n\n    console.log(hostedEvent)\n\n\n\n\n\n    return (\n        <>\n            {!error ? <div>\n                {parkInfo !== null && <ParkDetails parkInfo={parkInfo} ></ParkDetails>}\n                {/**/}\n                {hostedEvent !== null &&\n                    hostedEvent.map(event => {\n                        return <EventDetails event={event}></EventDetails>\n                    })\n                }\n            </div> : <div style={{ textAlign: 'center' }}>Please head over to the sports tab to view park acitivities.</div>}\n        </>\n    )\n\n}\n\nexport default ViewActivity;\n\nconst Wrapper = styled.div`\n\n`\n\n\n//NOTES:\n    //For now, can only view activities from searching a park as the useEffect that gets\n    //all hosts happens in that component(MAP componenet.)"]},"metadata":{},"sourceType":"module"}