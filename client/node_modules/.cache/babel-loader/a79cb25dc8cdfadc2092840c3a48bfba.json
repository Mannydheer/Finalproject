{"ast":null,"code":"var _jsxFileName = \"/Users/maniderdheer/Documents/GitHub/finalproject/client/src/components/ViewActivity/ViewActivity.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport styled from 'styled-components'; //components.\n\nimport ParkDetails from '../ParkDetails';\n\nconst ViewActivity = () => {\n  const dispatch = useDispatch(); //stores all nearby parks in store.\n\n  const allParks = useSelector(state => state.parkReducer); //all hosted parks in sotre. \n\n  const hostsInfo = useSelector(state => state.hostReducer);\n  const [parkInfo, setParkInfo] = useState(null);\n  const [hostedEvent, setHostedEvents] = useState(null); //error\n\n  const [error, setError] = useState(false); //on component mount.\n\n  useEffect(() => {\n    //get the selected park. \n    setParkInfo(allParks.selectedPark); //find all hosts that are in this park.\n    //for the parkId, loop through all hosts who match this id.\n\n    if (hostsInfo.hosts !== null) {\n      let hostedParkIds = Object.values(hostsInfo.hosts);\n      let matchedHostedParks = hostedParkIds.filter(park => {\n        if (park.parkId === allParks.selectedPark.id) {\n          return park;\n        }\n      }); //all hosts events related to this park.\n\n      setHostedEvents(matchedHostedParks);\n    } else {\n      setError(true);\n    }\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, !error ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 23\n    }\n  }, parkInfo !== null && /*#__PURE__*/React.createElement(ParkDetails, {\n    parkInfo: parkInfo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 39\n    }\n  }), hostedEvent !== null && hostedEvent.map(event => {\n    return /*#__PURE__*/React.createElement(Wrapper, {\n      key: event._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 32\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 29\n      }\n    }, \"Host: \", event.name), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 29\n      }\n    }, \"Sport: \", event.sport), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 29\n      }\n    }, \"Skill: \", event.skill), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 29\n      }\n    }, \"Time: \", event.time), /*#__PURE__*/React.createElement(\"button\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 29\n      }\n    }, \"Join\"));\n  })) : /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      textAlign: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 22\n    }\n  }, \"Please head over to the sports tab to view park acitivities.\"));\n};\n\nexport default ViewActivity;\nconst Wrapper = styled.div`\n\n`; //NOTES:\n//For now, can only view activities from searching a park as the useEffect that gets\n//all hosts happens in that component(MAP componenet.)","map":{"version":3,"sources":["/Users/maniderdheer/Documents/GitHub/finalproject/client/src/components/ViewActivity/ViewActivity.js"],"names":["React","useState","useEffect","useDispatch","useSelector","styled","ParkDetails","ViewActivity","dispatch","allParks","state","parkReducer","hostsInfo","hostReducer","parkInfo","setParkInfo","hostedEvent","setHostedEvents","error","setError","selectedPark","hosts","hostedParkIds","Object","values","matchedHostedParks","filter","park","parkId","id","map","event","_id","name","sport","skill","time","textAlign","Wrapper","div"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,OAAOC,MAAP,MAAmB,mBAAnB,C,CAEA;;AACA,OAAOC,WAAP,MAAwB,gBAAxB;;AAIA,MAAMC,YAAY,GAAG,MAAM;AAIvB,QAAMC,QAAQ,GAAGL,WAAW,EAA5B,CAJuB,CAKvB;;AACA,QAAMM,QAAQ,GAAGL,WAAW,CAACM,KAAK,IAAIA,KAAK,CAACC,WAAhB,CAA5B,CANuB,CAOvB;;AACA,QAAMC,SAAS,GAAGR,WAAW,CAACM,KAAK,IAAIA,KAAK,CAACG,WAAhB,CAA7B;AAEA,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0Bd,QAAQ,CAAC,IAAD,CAAxC;AACA,QAAM,CAACe,WAAD,EAAcC,eAAd,IAAiChB,QAAQ,CAAC,IAAD,CAA/C,CAXuB,CAYvB;;AACA,QAAM,CAACiB,KAAD,EAAQC,QAAR,IAAoBlB,QAAQ,CAAC,KAAD,CAAlC,CAbuB,CAevB;;AACAC,EAAAA,SAAS,CAAC,MAAM;AACZ;AACAa,IAAAA,WAAW,CAACN,QAAQ,CAACW,YAAV,CAAX,CAFY,CAGZ;AACA;;AAEA,QAAIR,SAAS,CAACS,KAAV,KAAoB,IAAxB,EAA8B;AAC1B,UAAIC,aAAa,GAAGC,MAAM,CAACC,MAAP,CAAcZ,SAAS,CAACS,KAAxB,CAApB;AACA,UAAII,kBAAkB,GAAGH,aAAa,CAACI,MAAd,CAAqBC,IAAI,IAAI;AAClD,YAAIA,IAAI,CAACC,MAAL,KAAgBnB,QAAQ,CAACW,YAAT,CAAsBS,EAA1C,EAA8C;AAC1C,iBAAOF,IAAP;AACH;AACJ,OAJwB,CAAzB,CAF0B,CAQ1B;;AACAV,MAAAA,eAAe,CAACQ,kBAAD,CAAf;AACH,KAVD,MAUO;AACHN,MAAAA,QAAQ,CAAC,IAAD,CAAR;AACH;AAGJ,GArBQ,EAqBN,EArBM,CAAT;AAyBA,sBACI,0CACK,CAACD,KAAD,gBAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACLJ,QAAQ,KAAK,IAAb,iBAAqB,oBAAC,WAAD;AAAa,IAAA,QAAQ,EAAEA,QAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADhB,EAGLE,WAAW,KAAK,IAAhB,IACGA,WAAW,CAACc,GAAZ,CAAgBC,KAAK,IAAI;AACrB,wBAAO,oBAAC,OAAD;AAAS,MAAA,GAAG,EAAEA,KAAK,CAACC,GAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAWD,KAAK,CAACE,IAAjB,CADG,eAEH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAYF,KAAK,CAACG,KAAlB,CAFG,eAGH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAYH,KAAK,CAACI,KAAlB,CAHG,eAIH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAWJ,KAAK,CAACK,IAAjB,CAJG,eAKH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cALG,CAAP;AAOH,GARD,CAJE,CAAT,gBAcQ;AAAK,IAAA,KAAK,EAAE;AAAEC,MAAAA,SAAS,EAAE;AAAb,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oEAfb,CADJ;AAoBH,CA7DD;;AA+DA,eAAe9B,YAAf;AAEA,MAAM+B,OAAO,GAAGjC,MAAM,CAACkC,GAAI;;CAA3B,C,CAKA;AACI;AACA","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport styled from 'styled-components';\n\n//components.\nimport ParkDetails from '../ParkDetails'\n\n\n\nconst ViewActivity = () => {\n\n\n\n    const dispatch = useDispatch();\n    //stores all nearby parks in store.\n    const allParks = useSelector(state => state.parkReducer)\n    //all hosted parks in sotre. \n    const hostsInfo = useSelector(state => state.hostReducer)\n\n    const [parkInfo, setParkInfo] = useState(null)\n    const [hostedEvent, setHostedEvents] = useState(null)\n    //error\n    const [error, setError] = useState(false)\n\n    //on component mount.\n    useEffect(() => {\n        //get the selected park. \n        setParkInfo(allParks.selectedPark);\n        //find all hosts that are in this park.\n        //for the parkId, loop through all hosts who match this id.\n\n        if (hostsInfo.hosts !== null) {\n            let hostedParkIds = Object.values(hostsInfo.hosts)\n            let matchedHostedParks = hostedParkIds.filter(park => {\n                if (park.parkId === allParks.selectedPark.id) {\n                    return park\n                }\n            })\n\n            //all hosts events related to this park.\n            setHostedEvents(matchedHostedParks)\n        } else {\n            setError(true)\n        }\n\n\n    }, [])\n\n\n\n    return (\n        <>\n            {!error ? <div>\n                {parkInfo !== null && <ParkDetails parkInfo={parkInfo} ></ParkDetails>}\n                {/**/}\n                {hostedEvent !== null &&\n                    hostedEvent.map(event => {\n                        return <Wrapper key={event._id}>\n                            <h1>Host: {event.name}</h1>\n                            <h2>Sport: {event.sport}</h2>\n                            <h2>Skill: {event.skill}</h2>\n                            <h2>Time: {event.time}</h2>\n                            <button>Join</button>\n                        </Wrapper>\n                    })\n                }\n            </div> : <div style={{ textAlign: 'center' }}>Please head over to the sports tab to view park acitivities.</div>}\n        </>\n    )\n\n}\n\nexport default ViewActivity;\n\nconst Wrapper = styled.div`\n\n`\n\n\n//NOTES:\n    //For now, can only view activities from searching a park as the useEffect that gets\n    //all hosts happens in that component(MAP componenet.)"]},"metadata":{},"sourceType":"module"}