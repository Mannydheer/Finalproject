{"ast":null,"code":"var _jsxFileName = \"/Users/maniderdheer/Documents/GitHub/finalproject/client/src/components/ParkSidebar/ParkSidebar.js\";\nimport React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { AiOutlineClose } from 'react-icons/ai';\nimport { Link, useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { selectPark } from '../actions/parkActions';\n\nconst ParkSidebar = ({\n  parkInfo,\n  parkMenu,\n  setParkMenu\n}) => {\n  console.log(parkInfo);\n  let history = useHistory();\n  const dispatch = useDispatch();\n  const [image, setImage] = useState(null);\n  const userLoggedIn = useSelector(state => state.userReducer);\n  const hostsInfo = useSelector(state => state.hostReducer); //-----------------------SELECTED PARK PHOTO ------------------------------\n\n  useEffect(() => {\n    const handlePhoto = async () => {\n      if (parkInfo.photos === undefined) {\n        //put something that does exist. \n        console.log('photo does not exist');\n      } else {\n        let photo = parkInfo.photos[0].photo_reference;\n        console.log(photo, 'inside handle photo');\n\n        try {\n          let response = await fetch('/parkPhoto', {\n            method: \"POST\",\n            headers: {\n              'Accept': 'application/json',\n              'Content-type': 'application/json'\n            },\n            body: JSON.stringify({\n              photo\n            })\n          });\n\n          if (response.status === 200) {\n            let image = await response.json();\n            setImage(image.image);\n          } else {\n            console.log('error occured fetching park image.');\n          }\n        } catch (err) {\n          console.log(\"error occured in Catch for handlePhoto\", err);\n        }\n      }\n    };\n\n    handlePhoto();\n  }, [parkInfo]);\n\n  const handleHostView = () => {\n    dispatch(selectPark(parkInfo));\n    history.push('/hostPark');\n  };\n\n  const handleViewActivity = () => {\n    history.push('/viewActivity');\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, parkMenu && /*#__PURE__*/React.createElement(Wrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 25\n    }\n  }, parkInfo.name), /*#__PURE__*/React.createElement(\"img\", {\n    src: parkInfo.icon,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 21\n    }\n  }, parkInfo.formatted_address), image !== null && /*#__PURE__*/React.createElement(\"img\", {\n    src: image,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 40\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 21\n    }\n  }, \"Ratings: \", parkInfo.user_ratings_total), /*#__PURE__*/React.createElement(BtnWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Buttons, {\n    onClick: handleHostView,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 26\n    }\n  }, \"Host Activity\"), hostsInfo.hosts[parkInfo.id] && /*#__PURE__*/React.createElement(Buttons, {\n    onClick: handleViewActivity,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 58\n    }\n  }, \"View Activity\")), parkMenu && /*#__PURE__*/React.createElement(Btn, {\n    onClick: () => setParkMenu(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 34\n    }\n  }, /*#__PURE__*/React.createElement(AiOutlineClose, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 74\n    }\n  }))));\n};\n\nexport default ParkSidebar;\nconst Btn = styled.div`\nposition: absolute;\ntop: 0vh;\nleft: 375px;\nz-index: 101;\ntransition-duration: 5s;\nborder: none;\noutline: none;\nmargin-right: 10px;\nmargin-top: 10px;\n&:hover {\n    cursor: pointer;\n}\n`;\nconst BtnWrapper = styled.div`\ndisplay: flex;\njustify-content: space-around;\npadding-top: 15px;\n`;\nconst Buttons = styled.button`\nborder-radius: 25px;\nfont-size: 1.1rem;\noutline: none;\n\n&:hover {\n    cursor: pointer;\n}\n\n\n`;\nconst Wrapper = styled.div`\n\nword-wrap: break-word;\npadding-right: 4rem;\n    padding-bottom: 20px; \n    margin: 2rem 0;\n    width: 400px;\n    text-align: center;\n    font-size: 1rem;\n    \n    h2 {\n        font-size: 1.1rem;\n        padding: 1rem;\n    }\n`;\nconst Title = styled.div`\nmargin-top: 2.5rem;\ndisplay: flex;\njustify-content: center;\nposition: relative;\n\nimg {\n    position: absolute;\n    bottom: 50px;\n}\n\n\n`;","map":{"version":3,"sources":["/Users/maniderdheer/Documents/GitHub/finalproject/client/src/components/ParkSidebar/ParkSidebar.js"],"names":["React","useState","useEffect","styled","AiOutlineClose","Link","useHistory","useDispatch","useSelector","selectPark","ParkSidebar","parkInfo","parkMenu","setParkMenu","console","log","history","dispatch","image","setImage","userLoggedIn","state","userReducer","hostsInfo","hostReducer","handlePhoto","photos","undefined","photo","photo_reference","response","fetch","method","headers","body","JSON","stringify","status","json","err","handleHostView","push","handleViewActivity","name","icon","formatted_address","user_ratings_total","hosts","id","Btn","div","BtnWrapper","Buttons","button","Wrapper","Title"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,cAAT,QAA+B,gBAA/B;AACA,SAASC,IAAT,EAAeC,UAAf,QAAiC,kBAAjC;AAGA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,UAAT,QAA2B,wBAA3B;;AAOA,MAAMC,WAAW,GAAG,CAAC;AAAEC,EAAAA,QAAF;AAAYC,EAAAA,QAAZ;AAAsBC,EAAAA;AAAtB,CAAD,KAAyC;AAEzDC,EAAAA,OAAO,CAACC,GAAR,CAAYJ,QAAZ;AACA,MAAIK,OAAO,GAAGV,UAAU,EAAxB;AACA,QAAMW,QAAQ,GAAGV,WAAW,EAA5B;AAIA,QAAM,CAACW,KAAD,EAAQC,QAAR,IAAoBlB,QAAQ,CAAC,IAAD,CAAlC;AACA,QAAMmB,YAAY,GAAGZ,WAAW,CAACa,KAAK,IAAIA,KAAK,CAACC,WAAhB,CAAhC;AACA,QAAMC,SAAS,GAAGf,WAAW,CAACa,KAAK,IAAIA,KAAK,CAACG,WAAhB,CAA7B,CAVyD,CAazD;;AACAtB,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMuB,WAAW,GAAG,YAAY;AAC5B,UAAId,QAAQ,CAACe,MAAT,KAAoBC,SAAxB,EAAmC;AAC/B;AACAb,QAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ;AACH,OAHD,MAIK;AAED,YAAIa,KAAK,GAAGjB,QAAQ,CAACe,MAAT,CAAgB,CAAhB,EAAmBG,eAA/B;AACAf,QAAAA,OAAO,CAACC,GAAR,CAAYa,KAAZ,EAAmB,qBAAnB;;AACA,YAAI;AACA,cAAIE,QAAQ,GAAG,MAAMC,KAAK,CAAC,YAAD,EAAe;AACrCC,YAAAA,MAAM,EAAE,MAD6B;AAErCC,YAAAA,OAAO,EAAE;AACL,wBAAU,kBADL;AAEL,8BAAgB;AAFX,aAF4B;AAMrCC,YAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAER,cAAAA;AAAF,aAAf;AAN+B,WAAf,CAA1B;;AAQA,cAAIE,QAAQ,CAACO,MAAT,KAAoB,GAAxB,EAA6B;AACzB,gBAAInB,KAAK,GAAG,MAAMY,QAAQ,CAACQ,IAAT,EAAlB;AACAnB,YAAAA,QAAQ,CAACD,KAAK,CAACA,KAAP,CAAR;AACH,WAHD,MAIK;AACDJ,YAAAA,OAAO,CAACC,GAAR,CAAY,oCAAZ;AACH;AACJ,SAhBD,CAiBA,OAAOwB,GAAP,EAAY;AACRzB,UAAAA,OAAO,CAACC,GAAR,CAAY,wCAAZ,EAAsDwB,GAAtD;AACH;AACJ;AAGJ,KAhCD;;AAiCAd,IAAAA,WAAW;AACd,GAnCQ,EAmCN,CAACd,QAAD,CAnCM,CAAT;;AAqCA,QAAM6B,cAAc,GAAG,MAAM;AACzBvB,IAAAA,QAAQ,CAACR,UAAU,CAACE,QAAD,CAAX,CAAR;AACAK,IAAAA,OAAO,CAACyB,IAAR,CAAa,WAAb;AACH,GAHD;;AAIA,QAAMC,kBAAkB,GAAG,MAAM;AAC7B1B,IAAAA,OAAO,CAACyB,IAAR,CAAa,eAAb;AACH,GAFD;;AAQA,sBACI,0CAEK7B,QAAQ,iBACL,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEI,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKD,QAAQ,CAACgC,IAAd,CADJ,eAEI;AAAK,IAAA,GAAG,EAAEhC,QAAQ,CAACiC,IAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CAFJ,eAOI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKjC,QAAQ,CAACkC,iBAAd,CAPJ,EAQK3B,KAAK,KAAK,IAAV,iBAAkB;AAAK,IAAA,GAAG,EAAEA,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARvB,eASI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAeP,QAAQ,CAACmC,kBAAxB,CATJ,eAUI,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACK,oBAAC,OAAD;AAAS,IAAA,OAAO,EAAEN,cAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADL,EAGKjB,SAAS,CAACwB,KAAV,CAAgBpC,QAAQ,CAACqC,EAAzB,kBAAgC,oBAAC,OAAD;AAAS,IAAA,OAAO,EAAEN,kBAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAHrC,CAVJ,EAgBK9B,QAAQ,iBAAI,oBAAC,GAAD;AAAK,IAAA,OAAO,EAAE,MAAMC,WAAW,CAAC,KAAD,CAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAwC,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAxC,CAhBjB,CAHR,CADJ;AAgCH,CA/FD;;AAkGA,eAAeH,WAAf;AAEA,MAAMuC,GAAG,GAAG9C,MAAM,CAAC+C,GAAI;;;;;;;;;;;;;CAAvB;AAcA,MAAMC,UAAU,GAAGhD,MAAM,CAAC+C,GAAI;;;;CAA9B;AAMA,MAAME,OAAO,GAAGjD,MAAM,CAACkD,MAAO;;;;;;;;;;CAA9B;AAaA,MAAMC,OAAO,GAAGnD,MAAM,CAAC+C,GAAI;;;;;;;;;;;;;;CAA3B;AAgBA,MAAMK,KAAK,GAAGpD,MAAM,CAAC+C,GAAI;;;;;;;;;;;;CAAzB","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components'\nimport { AiOutlineClose } from 'react-icons/ai';\nimport { Link, useHistory } from 'react-router-dom';\n\n\nimport { useDispatch, useSelector } from 'react-redux';\nimport { selectPark } from '../actions/parkActions';\n\n\n\n\n\n\nconst ParkSidebar = ({ parkInfo, parkMenu, setParkMenu }) => {\n\n    console.log(parkInfo)\n    let history = useHistory();\n    const dispatch = useDispatch();\n\n\n\n    const [image, setImage] = useState(null)\n    const userLoggedIn = useSelector(state => state.userReducer)\n    const hostsInfo = useSelector(state => state.hostReducer)\n\n\n    //-----------------------SELECTED PARK PHOTO ------------------------------\n    useEffect(() => {\n        const handlePhoto = async () => {\n            if (parkInfo.photos === undefined) {\n                //put something that does exist. \n                console.log('photo does not exist')\n            }\n            else {\n\n                let photo = parkInfo.photos[0].photo_reference;\n                console.log(photo, 'inside handle photo')\n                try {\n                    let response = await fetch('/parkPhoto', {\n                        method: \"POST\",\n                        headers: {\n                            'Accept': 'application/json',\n                            'Content-type': 'application/json'\n                        },\n                        body: JSON.stringify({ photo })\n                    })\n                    if (response.status === 200) {\n                        let image = await response.json();\n                        setImage(image.image)\n                    }\n                    else {\n                        console.log('error occured fetching park image.')\n                    }\n                }\n                catch (err) {\n                    console.log(\"error occured in Catch for handlePhoto\", err)\n                }\n            }\n\n\n        }\n        handlePhoto();\n    }, [parkInfo])\n\n    const handleHostView = () => {\n        dispatch(selectPark(parkInfo))\n        history.push('/hostPark')\n    }\n    const handleViewActivity = () => {\n        history.push('/viewActivity')\n    }\n\n\n\n\n\n    return (\n        <>\n\n            {parkMenu &&\n                <Wrapper>\n\n                    <Title>\n                        <h1>{parkInfo.name}</h1>\n                        <img src={parkInfo.icon}></img>\n                    </Title>\n\n                    <h2>{parkInfo.formatted_address}</h2>\n                    {image !== null && <img src={image}></img>}\n                    <div>Ratings: {parkInfo.user_ratings_total}</div>\n                    <BtnWrapper>\n                        {<Buttons onClick={handleHostView}>Host Activity</Buttons>}\n                        {/* You can only host when there is red marker. */}\n                        {hostsInfo.hosts[parkInfo.id] && <Buttons onClick={handleViewActivity}>View Activity</Buttons>}\n\n                    </BtnWrapper>\n                    {parkMenu && <Btn onClick={() => setParkMenu(false)}><AiOutlineClose></AiOutlineClose></Btn>}\n\n                </Wrapper>}\n\n\n\n\n\n        </>\n\n    )\n\n}\n\n\nexport default ParkSidebar;\n\nconst Btn = styled.div`\nposition: absolute;\ntop: 0vh;\nleft: 375px;\nz-index: 101;\ntransition-duration: 5s;\nborder: none;\noutline: none;\nmargin-right: 10px;\nmargin-top: 10px;\n&:hover {\n    cursor: pointer;\n}\n`\nconst BtnWrapper = styled.div`\ndisplay: flex;\njustify-content: space-around;\npadding-top: 15px;\n`\n\nconst Buttons = styled.button`\nborder-radius: 25px;\nfont-size: 1.1rem;\noutline: none;\n\n&:hover {\n    cursor: pointer;\n}\n\n\n`\n\n\nconst Wrapper = styled.div`\n\nword-wrap: break-word;\npadding-right: 4rem;\n    padding-bottom: 20px; \n    margin: 2rem 0;\n    width: 400px;\n    text-align: center;\n    font-size: 1rem;\n    \n    h2 {\n        font-size: 1.1rem;\n        padding: 1rem;\n    }\n`\n\nconst Title = styled.div`\nmargin-top: 2.5rem;\ndisplay: flex;\njustify-content: center;\nposition: relative;\n\nimg {\n    position: absolute;\n    bottom: 50px;\n}\n\n\n`\n"]},"metadata":{},"sourceType":"module"}